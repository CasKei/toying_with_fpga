module shifter_16 (
    // note: only 4 bits of b input.
    input a[16], // input 1
    input b[4],  // input 2 but limit to 4 bits
    input alufn[6], // alufn signal
    output out[16] // shifted value
  ) {

  always {
    case(alufn[1:0]){
      default : out = a;           // no shift
      b00 : out = a << b;          // shift left
      b01 : out = a >> b;          // shift right
      b11 : out = $signed(a) >>> b;// force signed and shift right arithmetic
    }
  }
}
